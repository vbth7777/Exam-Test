<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Knowledge Assessment</title>
    <style>
        /* --- Basic Reset & Global Styles --- */
        :root {
            --primary-color: #005A9C;
            --secondary-color: #004B7C;
            --accent-color: #00A86B;
            --error-color: #D9534F;
            --light-gray: #F4F7F6;
            --medium-gray: #E0E0E0;
            --dark-gray: #333;
            --white: #FFFFFF;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light-gray);
            color: var(--dark-gray);
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* --- Main Container --- */
        .container {
            background: var(--white);
            width: 100%;
            max-width: 800px; /* Slightly wider for new format */
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: var(--primary-color);
            color: var(--white);
            padding: 2rem;
            text-align: center;
        }

        header h1 {
            font-size: 1.8rem;
            font-weight: 300;
            letter-spacing: 1px;
        }

        main {
            padding: 2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        /* --- Menu Screen --- */
        #menu-container h2 {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary-color);
        }

        .quiz-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .quiz-button {
            background-color: var(--white);
            border: 2px solid var(--medium-gray);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .quiz-button:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(0, 90, 156, 0.2);
            transform: translateY(-2px);
        }

        .quiz-button h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 0.25rem;
        }

        .quiz-button p {
            font-size: 0.9rem;
            color: #666;
        }

        /* --- Quiz Screen --- */
        #quiz-container {
            display: none; /* Hidden by default */
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .progress-bar {
            background-color: var(--medium-gray);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .progress {
            background-color: var(--accent-color);
            height: 100%;
            width: 0%; /* Dynamically updated */
            transition: width 0.4s ease;
        }

        .question-count {
            font-size: 0.9rem;
            color: #666;
        }

        #timer-display {
            font-size: 0.9rem;
            color: var(--primary-color);
            font-weight: 500;
        }

        /* --- New Question Formatting --- */
        .question-block {
            border: 1px solid var(--medium-gray);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background-color: #fdfdfd;
        }

        .question-block h3 {
            font-size: 1.1rem;
            color: var(--secondary-color);
            margin-bottom: 0.75rem;
        }

        .question-block p {
            font-size: 1.25rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
        }

        #options-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            background-color: var(--white);
            border: 2px solid var(--medium-gray);
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-size: 1rem;
        }

        .option:hover:not(.selected) {
            border-color: var(--primary-color);
            background-color: #f0f8ff;
        }

        .option.selected {
            border-color: var(--primary-color);
            background-color: var(--primary-color);
            color: var(--white);
            font-weight: 500;
        }
        
        .option.correct {
            border-color: var(--accent-color);
            background-color: var(--accent-color);
            color: white;
        }

        .option.incorrect {
            border-color: var(--error-color);
            background-color: var(--error-color);
            color: white;
        }

        #explanation-container {
            margin-top: 1.5rem;
            padding: 1rem 1.5rem;
            background-color: #e9f5ff;
            border-left: 4px solid var(--primary-color);
            border-radius: var(--border-radius);
            display: none; /* Hidden by default */
        }

        #explanation-container h4 {
            font-size: 1rem;
            color: var(--secondary-color);
            margin-bottom: 0.5rem;
        }

        #explanation-container p {
            font-size: 0.95rem;
            color: var(--dark-gray);
        }

        /* --- Navigation Bar --- */
        #navigation-container {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-button {
            background-color: var(--white);
            border: 1px solid var(--medium-gray);
            color: var(--dark-gray);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .nav-button:hover {
            border-color: var(--primary-color);
            transform: scale(1.1);
        }

        .nav-button.active {
            background-color: var(--primary-color);
            color: var(--white);
            border-color: var(--primary-color);
        }

        .nav-button.answered {
            background-color: var(--medium-gray);
            color: var(--white);
            border-color: var(--medium-gray);
        }
        
        /* --- Controls & Results --- */
        .controls {
            margin-top: auto;
            padding-top: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.75rem 2rem;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn:hover {
            background-color: var(--secondary-color);
        }

        .btn:disabled {
            background-color: var(--medium-gray);
            cursor: not-allowed;
        }

        #results-container {
            display: none; /* Hidden by default */
            text-align: center;
        }

        #results-container h2 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .score-display {
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent-color);
            margin: 1rem 0;
        }

        .score-display.fail {
            color: var(--error-color);
        }

        #final-time {
            margin-top: 1rem;
            color: #666;
        }

        footer {
            text-align: center;
            padding: 1rem;
            font-size: 0.8rem;
            color: #999;
            background-color: var(--light-gray);
        }

        /* --- Responsive Design --- */
        @media (max-width: 600px) {
            header h1 {
                font-size: 1.5rem;
            }
            main {
                padding: 1.5rem;
            }
            .controls {
                flex-direction: column;
                gap: 1rem;
            }
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Professional Knowledge Assessment</h1>
        </header>

        <main>
            <!-- Menu Screen -->
            <section id="menu-container">
                <h2>Select a Quiz Category</h2>
                <div class="quiz-list">
                    <button class="quiz-button" onclick="startQuiz('CSI')">
                        <h3>CSI</h3>
                        <p>Customer Success & Implementation</p>
                    </button>
                    <button class="quiz-button" onclick="startQuiz('CEA')">
                        <h3>CEA</h3>
                        <p>Compliance & Ethics Audit (Full Test)</p>
                    </button>
                    <button class="quiz-button" onclick="startQuiz('PRF')">
                        <h3>PRF</h3>
                        <p>Project Requirements Framework</p>
                    </button>
                </div>
            </section>

            <!-- Quiz Screen -->
            <section id="quiz-container">
                <div class="quiz-header">
                    <p class="question-count" id="question-count">Question 1 of X</p>
                    <p id="timer-display">00:00</p>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                
                <div class="question-block">
                    <h3 id="question-number">Question 1</h3>
                    <p id="question-text">Question will go here</p>
                    <div id="options-container"></div>
                    <div id="explanation-container">
                        <h4>Explanation:</h4>
                        <p id="explanation-text"></p>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn" id="back-btn" onclick="backToMenu()">Back to Menu</button>
                    <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>Next</button>
                </div>
                <div id="navigation-container"></div>
            </section>

            <!-- Results Screen -->
            <section id="results-container">
                <h2>Quiz Complete!</h2>
                <p>Your final score is:</p>
                <div class="score-display" id="score-display">0/0</div>
                <p id="results-message"></p>
                <p id="final-time"></p>
                <div id="navigation-container-results"></div>
                <div class="controls" style="margin-top: 2rem; justify-content: center;">
                    <button class="btn" onclick="backToMenu()">Back to Menu</button>
                </div>
            </section>
        </main>

        <footer>
            &copy; 2024 Assessment Platform. All rights reserved.
        </footer>
    </div>

    <script>
        // --- Quiz Data ---
        const quizData = {
            CSI: {
                title: "Customer Success & Implementation",
                questions: [
                    {
                        question: "What is the primary goal of the CSI onboarding process?",
                        options: ["To upsell additional products immediately.", "To ensure the customer achieves their desired outcomes while using the product.", "To gather as much technical data as possible.", "To finalize the billing and payment details."],
                        answer: 1,
                        explanation: "The core of Customer Success is ensuring the customer realizes value from the product, which leads to retention and satisfaction."
                    },
                    {
                        question: "Which metric is most crucial for measuring CSI success in the first 90 days?",
                        options: ["Number of support tickets created.", "Time to first value (TTFV).", "Customer's social media mentions.", "Server uptime."],
                        answer: 1,
                        explanation: "TTFV measures how quickly a new customer experiences the core value of your product, which is a strong indicator of long-term success."
                    },
                    {
                        question: "A key stakeholder is unresponsive during the implementation phase. What is the best first step?",
                        options: ["Immediately escalate to their manager.", "Pause the entire project until they respond.", "Send a polite follow-up email summarizing the need for their input and proposing a brief meeting.", "Assume they are busy and proceed without their input."],
                        answer: 2,
                        explanation: "A polite, professional follow-up that clearly states the need and offers a solution (a meeting) is the most effective and respectful first step."
                    }
                ]
            },
            CEA: {
                title: "Compliance & Ethics Audit",
                questions: [
                    { "id": 1, "question": "How many check bits are needed if the Hamming error correction code is used to detect single bit error in a 128-bit data word?", "options": ["6 bits", "7 bits", "8 bits", "9 bits", "5 bits"], "answer": 2, "explanation": "công thức Trong mã Hamming, với r là số bit kiểm tra. Ta tăng dần r đến khi bất đẳng thức đúng thì đó là số bit cần thiết." },
                    { "id": 2, "question": "How many check bits are needed for a Hamming error correction code to detect single-error correction in a 1KByte data word?", "options": ["11 bits", "12 bits", "13 bits", "14 bits", "15 bits"], "answer": 3, "explanation": "2^r≥m+r+1. Nếu dữ liệu là 8 bit → cần 4 bit kiểm tra (vì 2^4=16≥8+4+1=13)." },
                    { "id": 3, "question": "How many bytes of data does each sector in the Winchester hard drive disk have?", "options": ["128 bytes", "256 bytes", "512 bytes", "1024 bytes", "4096 bytes"], "answer": 2, "explanation": "512 là kích thước tiêu chuẩn công nghiệp nhé" },
                    { "id": 4, "question": "A byte addressable microprocessor has 24 bit address. What is maximum memory capacity?", "options": ["4 MegaByte", "8 MegaByte", "16 MegaByte", "32 MegaByte"], "answer": 2, "explanation": "24 bit địa chỉ là 2^24. Vì hệ thống byte addressable, số địa chỉ hóa tương ứng số byte nên là Chuyển đổi byte sang MB(megabyte) để tìm dung lượng bộ nhớ tối đa: 1 MB=2^20 bytes. => Dung lượng bộ nhớ max = 2^24/2^20 = 16 MB." },
                    { "id": 5, "question": "What is the maximum addressable memory of a 32-bit microprocessor with 24 bit address?", "options": ["16 GB", "16 MB", "16 Gbits", "16 Mbits"], "answer": 1, "explanation": "Địa chỉ 32 bit → số ô nhớ tối đa là 2^32 byte = 4 GB bộ nhớ địa chỉ được." },
                    { "id": 6, "question": "Consider a 5 drive, 200 GBytes-per drive RAID array. What is the available data storage capacity for each for the RAID levels 5?", "options": ["200 GBytes", "400 GBytes", "600 GBytes", "800 GBytes", "None of the mentioned"], "answer": 3, "explanation": "(5-1)x200" },
                    { "id": 7, "question": "Consider a 5 drive, 100 GBytes-per drive RAID array. What is the available data storage capacity for each for the RAID levels 5?", "options": ["400 GBytes", "200 GBytes", "300 GBytes", "500 GBytes "], "answer": 0, "explanation": "(5-1)x100" },
                    { "id": 8, "question": "In the direct mapping method from 256MB main memory with 512KB cache, what is the number of bits for the TAG element in the address?", "options": ["6", "7", "8", "9"], "answer": 3, "explanation": "256MB / 64KB = 4096 → có 4096 khối bộ nhớ chính ánh xạ đến 1 dòng cache duy nhất." },
                    { "id": 9, "question": "In error correcting code( single ECC), how many bits are used to correct one bit in 8-bit data?", "options": ["4", "5", "6", "7"], "answer": 0, "explanation": "log2(8) + 1" },
                    { "id": 10, "question": "Consider an expression: NOT (1111 1010). What is the result of this expression?", "options": ["0000 1010", "0000 0101", "1111 0101", "1111 1010"], "answer": 1, "explanation": "NOT: 0 -> 1, 1 -> 0" },
                    { "id": 11, "question": "Consider an expression: 1000 0000 OR 1111 1010. What is the result of this expression?", "options": ["1000 0000", "1111 1010", "1001 1010", "1001 0101"], "answer": 1, "explanation": "Phép OR: chỉ cần một bit = 1 là kết quả = 1." },
                    { "id": 12, "question": "Consider an expression: 1000 0000 AND 1111 1010. What is the result of this expression?", "options": ["1000 0000", "1111 0000", "1001 1010", "1001 0101"], "answer": 0, "explanation": "Phép AND: chỉ khi cả hai bit = 1 mới ra 1." },
                    { "id": 13, "question": "What is result of 10100101 xor 11001001?", "options": ["11101101", "10000001", "01101100", "10101100"], "answer": 2, "explanation": "Phép XOR: nếu 2 bit khác nhau → 1, giống nhau → 0." },
                    { "id": 14, "question": "(R1) = 0111 0110, (R2) = 1101 1111, the result of (R1) XOR (R2) is:", "options": ["1101 1011", "0001 0110", "1010 1001", "1100 1101"], "answer": 2, "explanation": "XOR khác → 1, giống → 0." },
                    { "id": 15, "question": "What is result left rotate of 1011 0101 by 2 bits?", "options": ["0110 1011", "1010 1101", "0110 1101", "1101 0110", "1101 0100"], "answer": 3, "explanation": "Dịch trái 2 bit rồi đưa 2 bit 10 vào cuối" },
                    { "id": 16, "question": "What is result logical right shift of 1011 0000 by 2 bit?", "options": ["0010 1100", "0101 1000", "0100 1100", "0011 0000"], "answer": 0, "explanation": "Dịch phải logic: điền 0 vào bên trái." },
                    { "id": 17, "question": "What is the output of Left Shift Operator << on (00011000<<2)?", "options": ["0110 0000", "1100 0000", "0000 0110", "0000 0011"], "answer": 0, "explanation": "Đẩy trái 2 bit: 00 là 011000 và 2 bit 00 được thêm vào đầu bên phải." },
                    { "id": 18, "question": "Express an integer number +18 (using 8-bits length) in twos complement representation.", "options": ["0001 0010", "1001 0010", "1111 0010", "0111 0010"], "answer": 0, "explanation": "18/2=10010, vì 8-bits nên thêm 3 số 0 ở đầu" },
                    { "id": 19, "question": "If you have an integer number +18 in sign magnitude representation, which is 0001 0010, what is the correct option for -18?", "options": ["0001 0010", "1001 0010", "1111 0010", "0111 0010"], "answer": 1, "explanation": "Bit đầu là bit dấu (0 = dương), còn lại là trị tuyệt đối." },
                    { "id": 20, "question": "Convert the 64 from decimal to their binary number equivalents.", "options": ["100000", "100100", "111000", "101010"], "answer": 0, "explanation": "64=2^6 → dạng nhị phân là 1000000." },
                    { "id": 21, "question": "Using Hamming Code with one error correction to store an 12-bit word in memory, the stored word 111001001101 consists of 8 bits data and 4 bits parity check. What are the parity bits?", "options": ["0110", "0111", "1110", "0101", "None of the mentioned"], "answer": 3, "explanation": "Dùng công thức: 2^r≥m+r+1. Nếu m = 7 → r = 4 là nhỏ nhất thoả mãn (16 ≥ 12)." },
                    { "id": 22, "question": "For the following Boolean expressions: AB + AB' and the truth table A B B' output: 1 0 1 ?; 1 1 0 ?; 0 0 1 ?; 0 1 0 ? . Choose the correct option to replace at \"?\" (order top to bottom)", "options": ["1,1,1,0", "1,1,1,1", "1,0,1,0", "0,1,1,0", "1,1,0,0"], "answer": 4, "explanation": "CT: AB+AB′=A(B+B′), theo định luật bù: B+B′=1 -> A(B+B′)=A(1)=A" },
                    { "id": 23, "question": "What is the output of a NOT gate when the input is 0?", "options": ["0", "1", "Undefined", "2"], "answer": 1, "explanation": "1 → 0, 0 → 1. → Kết quả = 0." },
                    { "id": 24, "question": "When both inputs are 0, what is the result of a NOR gate?", "options": ["0", "1", "2", "Undefined", "#NA"], "answer": 0, "explanation": "Phép AND chỉ ra 1 khi cả hai = 1. → 0 và 0 → 0." },
                    { "id": 25, "question": "When both inputs are 1, what is the result of a NAND gate?", "options": ["0", "1", "2", "Undefined", "#NA"], "answer": 0, "explanation": "1 AND 1 = 1 → vì cả hai đều đúng." },
                    { "id": 26, "question": "A set-associative cache consists of 64 lines, divided into four-line sets. 2^19 words main memory contains 4K blocks of 128 words each. How many bits are there in the tag field of the cache?", "options": ["5", "6", "7", "8", "9"], "answer": 3, "explanation": "Số set = 64 / 4 = 16 set." },
                    { "id": 27, "question": "Consider a machine with a byte addressable main memory of 2^16 bytes and block size of 8 bytes. Assume that a direct mapped cache consisting of 32 lines is used with this machine. How many bits are there in the line field of the cache?", "options": ["3", "4", "5", "6", "7"], "answer": 1, "explanation": "Vì 2^20=1MB2^{20} = 1MB220=1MB, cần 20 bit địa chỉ." },
                    { "id": 28, "question": "The instruction, which adds 1 to the value in a memory location, has five stages: fetch opcode (four cycles), fetch operand address (three cycles), fetch operand (three cycles), add 1 to operand (three cycles), and store operand (three cycles). An interrupt sends request at beginning of fetch operand stage. How many cycles does the processor enter the interrupt processing cycle?", "options": ["6", "7", "8", "9", "10"], "answer": 4, "explanation": "Lệnh INC (increment) dùng để cộng 1 vào thanh ghi." },
                    { "id": 29, "question": "The instruction, which adds 1 to the value in a memory location, has five stages: fetch opcode (2 bus cycles), fetch operand address (2 bus cycles), fetch operand (2 bus cycles), add 1 to operand (1 bus cycle), and store operand (3 bus cycles). An interrupt sends request at beginning of fetch operand address stage. How many cycles does the processor enter the interrupt processing cycle?", "options": ["6", "7", "8", "9", "5"], "answer": 2, "explanation": "Tương tự — INC là lệnh tăng 1 đơn vị cho giá trị trong thanh ghi." },
                    { "id": 30, "question": "In the concept of Register Windows, how many register groups are there?", "options": ["4", "3", "2", "No distinction"], "answer": 0, "explanation": "4 nhóm chính: Global Registers, Input Registers, Local Registers, Output registers" },
                    { "id": 31, "question": "How many common classifications of parallel systems are there as proposed by Flynn?", "options": ["2", "3", "4", "5"], "answer": 2, "explanation": "SISD (Single Instruction, Single Data): Một luồng lệnh và một luồng dữ liệu.\nSIMD (Single Instruction, Multiple Data): Một luồng lệnh nhưng nhiều luồng dữ liệu.\nMISD (Multiple Instruction, Single Data): Nhiều luồng lệnh nhưng một luồng dữ liệu.\nMIMD (Multiple Instruction, Multiple Data): Nhiều luồng lệnh và nhiều luồng dữ liệu." },
                    { "id": 32, "question": "How many general-purpose registers are there in the Microprocessor Register Organizations of Intel 80386-Pentinum 4?", "options": ["8", "16", "4", "12"], "answer": 0, "explanation": "8085 có 6 thanh ghi đa dụng (B, C, D, E, H, L), mỗi cái 8 bit." },
                    { "id": 33, "question": "If you have a boolean function with 3 variables, how many rows are there in the truth table?", "options": ["8 rows", "3 rows", "6 rows", "12 rows"], "answer": 0, "explanation": "Tốc độ CPU phụ thuộc vào tần số xung nhịp (clock speed), độ dài đường ống lệnh (pipeline), và hiệu quả bộ nhớ cache. Tần số cao, pipeline sâu, cache lớn → CPU chạy nhanh hơn." },
                    { "id": 34, "question": "Follow the Amdahl's law for multiprocessors, if only 10% of the code is inherently serial (f = 0.9), running the program on a multicore system with 4 processors, a performance gain (speedup factor) would be _____.", "options": ["307%", "297%", "317%", "327%"], "answer": 0, "explanation": "1/((1-f)+(f/n)=1/((1-0,9)+(0,9/4)=3,08 = 308 khoảng 307%" },
                    { "id": 35, "question": "Follow the Amdahl's law for multiprocessors, if only 20% of the code is inherently serial (f = 0.8), running the program on a multicore system with 8 processors, a performance gain (speedup factor) would be ____.", "options": ["333%", "303%", "313%", "323%"], "answer": 1, "explanation": "Tavg=h×Tcache+(1−h)×(Tcache+Tmain)= 0.9×10 + 0.1×(10+100) = 19ns. → Hiểu nôm na: 90% truy cập nhanh, 10% phải “vòng xuống RAM”." },
                    { "id": 36, "question": "A benchmark program is running on a 400 MHz processor. The executed program consists of 500 instruction executions, with the following instruction mix and clock cycle count in Table below:\nInstruction type Instruction count Cycles per Instruction\nArithmetic 300 1\nData transfer 100 2\nControl transfer 100 2\nCalculate MIPS rate for this case.", "options": ["MIPS rate = 285.7", "MIPS rate = 275.7", "MIPS rate = 265.7", "MIPS rate = 295.7"], "answer": 0, "explanation": "Tổng số chu kỳ += instruction x Cycles per = 700\nThời gian thực thi = chu kỳ/ tần số(400x10^6)\nMIPS rate= tổng số lệnh(500)/ thời gian thực thi" },
                    { "id": 37, "question": "In one-cache system using direct mapping technique, with the cache containing 10 lines, which memory block's data can be transfered to the cache line 7?", "options": ["7, 17, 27, 37, …", "0, 1, 2, 3, 4, 5, 6, 7, …", "0,7, 17, 27, 37, …", "0, 7, 77, 777, …"], "answer": 0, "explanation": "Cache line = (Block address) mod (Number of cache lines)" },
                    { "id": 38, "question": "A two-way set-associative cache has lines of 16 bytes and a total size of 8 Kbytes. The 64-Mbyte main memory is byte addressable. What are the values of Tag, Set and Byte offset fields?", "options": ["14/8/4", "16/6/4", "12/10/4", "15/7/4", "13/9/4"], "answer": 0, "explanation": "Mỗi khi CPU đọc 1 lệnh, PC tăng theo số byte của lệnh. → 2000H + 3 = 2003H." },
                    { "id": 39, "question": "The use of Hamming code on 4-bit words (M = 4) is illustrated in the below Venn diagrams. With three intersecting circles, there are seven compartments. We assign the 4 data bits to the inner compartments. The remaining compartments are filled with what are called parity bits. Each parity bit is chosen so that the total number of 1s in its circle is even. Choose the correct value of the corresponding parity bit in circles A, B, C.", "options": ["1;0;0", "0;1;0", "0;0;1", "1;0;1"], "answer": 0, "explanation": "ALU là khối tính toán trung tâm, thực hiện các phép toán số học (cộng, trừ, nhân, chia) và logic (AND, OR, XOR…)." },
                    { "id": 40, "question": "Simplify the following Boolean expression: AB + A'B' + AB'", "options": ["A + B'", "A' + B'", "A + B", "A' + B"], "answer": 0, "explanation": "Đó là Accumulator (thanh ghi tích lũy) – nơi chứa kết quả tạm thời trong quá trình thực hiện phép toán." },
                    { "id": 41, "question": "Which of the following Boolean expressions is equivalent to F = (A + B')(C' + A + B)", "options": ["F = A + B'C'", "F = A' + BC", "F = A + BC", "F = A' + B'C'"], "answer": 0, "explanation": "Pipeline hoạt động nối tiếp → chỉ nhanh bằng giai đoạn chậm nhất. → Giai đoạn chậm làm nghẽn cổ chai, giảm hiệu năng toàn hệ thống." },
                    { "id": 42, "question": "Which of the following Boolean expressions is equivalent to F = BC + A'B'C?", "options": ["F = A'C + BC", "F = AC + BC", "F = AC + B'C", "F = A'C + B'C"], "answer": 0, "explanation": "Cache lưu tạm dữ liệu thường dùng, giúp CPU truy cập nhanh hơn mà không cần xuống RAM.\n→ Giảm thời gian truy xuất, tăng tốc xử lý." },
                    { "id": 43, "question": "Convert the following SOP expression to an equivalent POS expression: ABC' + A'B'C + AB'C'", "options": ["(A + B + C')(A' + B' + C)(A'+ B' + C')(A+ B'+ C)(A+ B' + C')", "(A + B + C)(A + B' + C)(A' + B' + C')(A + B + C')(A' + B' + C')", "(A + B + C)(A + B' + C')(A' + B' + C)(A + B' + C')(A + B' + C)", "(A' + B + C')(A'+ B' + C)(A + B' + C)(A + B' + C')(A' + B' + C)"], "answer": 1, "explanation": "ROM là bộ nhớ chỉ đọc (Read Only) – dữ liệu không mất khi tắt máy. RAM là bộ nhớ tạm, mất dữ liệu khi mất điện." },
                    { "id": 44, "question": "Convert the following SOP expression to an equivalent POS expression: ABC + A'BC' + AB'C + A'B'C", "options": ["(A + B + C)(A + B' + C)(A'+ B + C')(A' + B' + C)", "(A + B + C')(A + B' + C)(A' + B + C)(A' + B' + C)", "(A + B + C)(A + B' + C')(A' + B +C)(A'+ B' + C)", "(A' + B + C')(A' + B' + C)(A + B' + C)(A + B + C')"], "answer": 2, "explanation": "BIOS nằm trong ROM (hoặc flash ROM). → Vì ROM giữ dữ liệu ngay cả khi tắt nguồn." },
                    { "id": 45, "question": "From Karnaugh maps below. Derive a simplify Boolean expression", "options": ["F(A,B,C,D) = A'B+CD+BD+B'C'D", "F(A,B,C,D) = A'B+C'D+BD+B'C'D", "F(A,B,C,D) = A'B+CD+BD+B'C'D'", "F(A,B,C,D) = A'B+CD+BD+B'C'D"], "answer": 2, "explanation": "Block lớn → tăng khả năng trúng (hit), nhưng tốn băng thông và dễ gây lãng phí dữ liệu không cần thiết. → Cần cân bằng giữa tốc độ và hiệu quả bộ nhớ." },
                    { "id": 46, "question": "Write the Boolean expression for each of the logic circuits.", "options": ["F = A'B'D' + AC'D + ABD", "F = A'B'D + AC'D + ABD", "F = A'B'D + AC'D' + ABD", "F = A'B'D + A'C'D + ABD"], "answer": 2, "explanation": "Virtual memory cho phép chạy chương trình lớn hơn dung lượng RAM thực tế bằng cách hoán đổi dữ liệu giữa RAM và ổ đĩa. → Giúp máy tính chạy đa nhiệm mượt mà, dù RAM nhỏ." }
                ]
            },
            PRF: {
                title: "Project Requirements Framework",
                questions: [
                    {
                        question: "What is the most important characteristic of a well-defined requirement in a PRF?",
                        options: ["It should be technically complex.", "It should be written by the project manager only.", "It should be specific, measurable, achievable, relevant, and time-bound (SMART).", "It should be kept vague to allow for flexibility."],
                        answer: 2,
                        explanation: "The SMART criteria ensure that requirements are clear, verifiable, and contribute directly to the project's goals."
                    },
                    {
                        question: "In the PRF process, who is the primary source for gathering functional requirements?",
                        options: ["The development team.", "The project stakeholders or end-users.", "The quality assurance (QA) team.", "The company's competitors."],
                        answer: 1,
                        explanation: "Stakeholders and end-users are the ones who will interact with the final product, making them the best source for what the system needs to *do*."
                    },
                    {
                        question: "What is the purpose of a 'traceability matrix' in a PRF?",
                        options: ["To track the budget for the project.", "To link requirements to their source, design, code, and tests.", "To assign tasks to team members.", "To document meeting minutes."],
                        answer: 1,
                        explanation: "A traceability matrix ensures that every requirement is addressed in the design, implemented in the code, and verified through testing, preventing anything from being missed."
                    }
                ]
            }
        };

        // --- State Management ---
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        let timerInterval = null;
        let seconds = 0;

        // --- DOM Elements ---
        const menuContainer = document.getElementById('menu-container');
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const questionNumber = document.getElementById('question-number');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const questionCount = document.getElementById('question-count');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress');
        const explanationContainer = document.getElementById('explanation-container');
        const explanationText = document.getElementById('explanation-text');
        const scoreDisplay = document.getElementById('score-display');
        const resultsMessage = document.getElementById('results-message');
        const finalTimeDisplay = document.getElementById('final-time');
        const timerDisplay = document.getElementById('timer-display');
        const navigationContainer = document.getElementById('navigation-container');
        const navigationContainerResults = document.getElementById('navigation-container-results');


        // --- Functions ---
        function startQuiz(quizName) {
            currentQuiz = quizData[quizName];
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            seconds = 0;

            menuContainer.style.display = 'none';
            resultsContainer.style.display = 'none';
            quizContainer.style.display = 'block';
            
            startTimer();
            displayQuestion();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                seconds++;
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                timerDisplay.textContent = `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            }, 1000);
        }
        
        function displayQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            
            questionNumber.textContent = `Question ${currentQuestionIndex + 1}`;
            questionText.textContent = question.question;
            questionCount.textContent = `Question ${currentQuestionIndex + 1} of ${currentQuiz.questions.length}`;
            
            const progressPercent = ((currentQuestionIndex + 1) / currentQuiz.questions.length) * 100;
            progressBar.style.width = `${progressPercent}%`;

            optionsContainer.innerHTML = '';
            explanationContainer.style.display = 'none';

            question.options.forEach((option, index) => {
                const optionElement = document.createElement('button');
                optionElement.classList.add('option');
                optionElement.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });

            renderNavigation();

            if (currentQuestionIndex === currentQuiz.questions.length - 1) {
                nextBtn.textContent = 'Submit Quiz';
            } else {
                nextBtn.textContent = 'Next';
            }
        }
        
        function renderNavigation() {
            navigationContainer.innerHTML = '';
            currentQuiz.questions.forEach((_, index) => {
                const button = document.createElement('button');
                button.classList.add('nav-button');
                button.textContent = index + 1;
                button.onclick = () => goToQuestion(index);

                if (index === currentQuestionIndex) {
                    button.classList.add('active');
                } else if (userAnswers[index] !== undefined) {
                    button.classList.add('answered');
                }
                navigationContainer.appendChild(button);
            });
        }

        function goToQuestion(index) {
            if (index === currentQuestionIndex) return;
            currentQuestionIndex = index;
            displayQuestion();
        }

        function selectOption(selectedIndex) {
            if (userAnswers[currentQuestionIndex] !== undefined) return;

            const options = document.querySelectorAll('.option');
            const question = currentQuiz.questions[currentQuestionIndex];

            userAnswers[currentQuestionIndex] = selectedIndex;

            options.forEach((option, index) => {
                option.onclick = null;
                if (index === selectedIndex) {
                    option.classList.add('selected');
                }
            });
            
            explanationContainer.style.display = 'block';
            explanationText.textContent = question.explanation;

            if (selectedIndex === question.answer) {
                options[selectedIndex].classList.add('correct');
                score++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[question.answer].classList.add('correct');
            }

            renderNavigation();
            nextBtn.disabled = false;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuiz.questions.length) {
                displayQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            clearInterval(timerInterval);
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';

            scoreDisplay.textContent = `${score} / ${currentQuiz.questions.length}`;
            
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            finalTimeDisplay.textContent = `Time taken: ${mins} minute(s) and ${secs} second(s)`;
            
            const percentage = (score / currentQuiz.questions.length) * 100;
            if (percentage >= 80) {
                scoreDisplay.classList.remove('fail');
                resultsMessage.textContent = "Excellent work! You have a strong understanding of the material.";
            } else if (percentage >= 50) {
                scoreDisplay.classList.remove('fail');
                resultsMessage.textContent = "Good job. There's room for improvement, but you're on the right track.";
            } else {
                scoreDisplay.classList.add('fail');
                resultsMessage.textContent = "Keep studying! Reviewing the material will help you improve your score.";
            }

            navigationContainerResults.innerHTML = '';
            currentQuiz.questions.forEach((question, index) => {
                const button = document.createElement('button');
                button.classList.add('nav-button');
                button.textContent = index + 1;
                if (userAnswers[index] === question.answer) {
                    button.style.backgroundColor = 'var(--accent-color)';
                    button.style.borderColor = 'var(--accent-color)';
                    button.style.color = 'white';
                } else {
                    button.style.backgroundColor = 'var(--error-color)';
                    button.style.borderColor = 'var(--error-color)';
                    button.style.color = 'white';
                }
                navigationContainerResults.appendChild(button);
            });
        }

        function backToMenu() {
            clearInterval(timerInterval);
            currentQuiz = null;
            menuContainer.style.display = 'block';
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'none';
        }
    </script>
</body>
</html>
